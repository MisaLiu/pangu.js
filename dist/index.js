"use strict";const p=require("fs"),n="⺀-⻿⼀-⿟぀-ゟ゠-ヺー-ヿ㄀-ㄯ㈀-㋿㐀-䶿一-鿿豈-﫿",E=new RegExp(`[${n}]`),A=new RegExp(`([${n}])[ ]*([\\:]+|\\.)[ ]*([${n}])`,"g"),T=new RegExp(`([${n}])[ ]*([~\\!;,\\?]+)[ ]*`,"g"),R=new RegExp(`([\\.]{2,}|…)([${n}])`,"g"),S=new RegExp(`([${n}])\\:([A-Z0-9\\(\\)])`,"g"),u=new RegExp(`([${n}])([\`"״])`,"g"),i=new RegExp(`([\`"״])([${n}])`,"g"),C=/([`"\u05f4]+)[ ]*(.+?)[ ]*([`"\u05f4]+)/g,K=new RegExp(`([${n}])('[^s])`,"g"),w=new RegExp(`(')([${n}])`,"g"),x=new RegExp(`([A-Za-z0-9${n}])( )('s)`,"g"),N=new RegExp(`([${n}])(#)([${n}]+)(#)([${n}])`,"g"),O=new RegExp(`([${n}])(#([^ ]))`,"g"),J=new RegExp(`(([^ ])#)([${n}])`,"g"),F=new RegExp(`([${n}])([\\+\\-\\*\\/=&\\|<>])([A-Za-z0-9])`,"g"),I=new RegExp(`([A-Za-z0-9])([\\+\\-\\*\\/=&\\|<>])([${n}])`,"g"),L=/([/\.])([A-Za-z\-_\./]+) ([/])/g,H=new RegExp(`([${n}])([\\(\\[\\{<>“])`,"g"),h=new RegExp(`([\\)\\]\\}<>”])([${n}])`,"g"),f=/([\(\[\{<\u201c]+)[ ]*(.+?)[ ]*([\)\]\}>\u201d]+)/,Z=new RegExp(`([A-Za-z0-9${n}])[ ]*([“])([A-Za-z0-9${n}\\-_ ]+)([”])`,"g"),z=new RegExp(`([“])([A-Za-z0-9${n}\\-_ ]+)([”])[ ]*([A-Za-z0-9${n}])`,"g"),B=/([A-Za-z0-9])([\(\[\{])/g,d=/([\)\]\}])([A-Za-z0-9])/g,U=new RegExp(`([${n}])([A-Za-zͰ-Ͽ0-9@\\$%\\^&\\*\\-\\+\\\\=\\|/¡-ÿ⅐-↏✀—➿])`,"g"),y=new RegExp(`([A-Za-zͰ-Ͽ0-9~\\$%\\^&\\*\\-\\+\\\\=\\|/!;:,\\.\\?¡-ÿ⅐-↏✀—➿])([${n}])`,"g"),G=/([0-9]+%)([A-Za-z])/g,P=/([ ]*)([\u00b7\u2022\u2027])([ ]*)/g;class D{constructor(){this.version="4.0.8"}convertToFullwidth(c){return c.replace(/~/g,"～").replace(/!/g,"！").replace(/;/g,"；").replace(/:/g,"：").replace(/,/g,"，").replace(/\./g,"。").replace(/\?/g,"？")}spacing(c){if(typeof c!="string")return console.warn(`spacing(text) only accepts string but got ${typeof c}`),c;if(c.length<=1||!E.test(c))return c;const $=this;let e=c;return e=e.replace(A,(r,t,g,s)=>{const o=$.convertToFullwidth(g);return`${t}${o}${s}`}),e=e.replace(T,(r,t,g)=>{const s=$.convertToFullwidth(g);return`${t}${s}`}),e=e.replace(R,"$1 $2"),e=e.replace(S,"$1：$2"),e=e.replace(u,"$1 $2"),e=e.replace(i,"$1 $2"),e=e.replace(C,"$1$2$3"),e=e.replace(K,"$1 $2"),e=e.replace(w,"$1 $2"),e=e.replace(x,"$1's"),e=e.replace(N,"$1 $2$3$4 $5"),e=e.replace(O,"$1 $2"),e=e.replace(J,"$1 $3"),e=e.replace(F,"$1 $2 $3"),e=e.replace(I,"$1 $2 $3"),e=e.replace(L,"$1$2$3"),e=e.replace(H,"$1 $2"),e=e.replace(h,"$1 $2"),e=e.replace(f,"$1$2$3"),e=e.replace(Z,"$1 $2$3$4"),e=e.replace(z,"$1$2$3 $4"),e=e.replace(B,"$1 $2"),e=e.replace(d,"$1 $2"),e=e.replace(U,"$1 $2"),e=e.replace(y,"$1 $2"),e=e.replace(G,"$1 $2"),e=e.replace(P,"・"),e}spacingText(c,$=()=>{}){let e;try{e=this.spacing(c)}catch(r){$(r);return}$(null,e)}spacingTextSync(c){return this.spacing(c)}}class _ extends D{spacingFile(c,$=()=>{}){return new Promise((e,r)=>{p.readFile(c,"utf8",(t,g)=>{if(t)return r(t),$(t);const s=this.spacing(g);return e(s),$(null,s)})})}spacingFileSync(c){return this.spacing(p.readFileSync(c,"utf8"))}}const a=new _;module.exports=a;module.exports.default=a;module.exports.Pangu=_;
