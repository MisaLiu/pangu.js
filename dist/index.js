"use strict";const r=require("fs"),n="⺀-⻿⼀-⿟぀-ゟ゠-ヺー-ヿ㄀-ㄯ㈀-㋿㐀-䶿一-鿿豈-﫿",o=new RegExp(`[${n}]`),E=new RegExp(`([${n}])[ ]*([\\:]+|\\.)[ ]*([${n}])`,"g"),f=new RegExp(`([${n}])[ ]*([~\\!;,\\?]+)[ ]*`,"g"),A=new RegExp(`([\\.]{2,}|…)([${n}])`,"g"),T=new RegExp(`([${n}])\\:([A-Z0-9\\(\\)])`,"g"),R=new RegExp(`([${n}])([\`"״])`,"g"),S=new RegExp(`([\`"״])([${n}])`,"g"),i=/([`"\u05f4]+)[ ]*(.+?)[ ]*([`"\u05f4]+)/g,C=new RegExp(`([${n}])('[^s])`,"g"),K=new RegExp(`(')([${n}])`,"g"),w=new RegExp(`([A-Za-z0-9${n}])( )('s)`,"g"),x=new RegExp(`([${n}])(#)([${n}]+)(#)([${n}])`,"g"),O=new RegExp(`([${n}])(#([^ ]))`,"g"),J=new RegExp(`(([^ ])#)([${n}])`,"g"),N=new RegExp(`([${n}])([\\+\\-\\*\\/=&\\|<>])([A-Za-z0-9])`,"g"),F=new RegExp(`([A-Za-z0-9])([\\+\\-\\*\\/=&\\|<>])([${n}])`,"g"),I=/([/\.])([A-Za-z\-_\./]+) ([/])/g,L=new RegExp(`([${n}])([\\(\\[\\{<>“])`,"g"),H=new RegExp(`([\\)\\]\\}<>”])([${n}])`,"g"),d=/([\(\[\{<\u201c]+)[ ]*(.+?)[ ]*([\)\]\}>\u201d]+)/,h=new RegExp(`([A-Za-z0-9${n}])[ ]*([“])([A-Za-z0-9${n}\\-_ ]+)([”])`,"g"),Z=new RegExp(`([“])([A-Za-z0-9${n}\\-_ ]+)([”])[ ]*([A-Za-z0-9${n}])`,"g"),z=/([A-Za-z0-9])([\(\[\{])/g,B=/([\)\]\}])([A-Za-z0-9])/g,U=new RegExp(`([${n}])([A-Za-zͰ-Ͽ0-9@\\$%\\^&\\*\\-\\+\\\\=\\|/¡-ÿ⅐-↏✀—➿])`,"g"),y=new RegExp(`([A-Za-zͰ-Ͽ0-9~\\$%\\^&\\*\\-\\+\\\\=\\|/!;:,\\.\\?¡-ÿ⅐-↏✀—➿])([${n}])`,"g"),G=/(%)([A-Za-z])/g,P=/([ ]*)([\u00b7\u2022\u2027])([ ]*)/g;class D{constructor(){this.version="4.0.7"}convertToFullwidth(c){return c.replace(/~/g,"～").replace(/!/g,"！").replace(/;/g,"；").replace(/:/g,"：").replace(/,/g,"，").replace(/\./g,"。").replace(/\?/g,"？")}spacing(c){if(typeof c!="string")return console.warn(`spacing(text) only accepts string but got ${typeof c}`),c;if(c.length<=1||!o.test(c))return c;const $=this;let e=c;return e=e.replace(E,(s,t,a,u)=>{const l=$.convertToFullwidth(a);return`${t}${l}${u}`}),e=e.replace(f,(s,t,a)=>{const u=$.convertToFullwidth(a);return`${t}${u}`}),e=e.replace(A,"$1 $2"),e=e.replace(T,"$1：$2"),e=e.replace(R,"$1 $2"),e=e.replace(S,"$1 $2"),e=e.replace(i,"$1$2$3"),e=e.replace(C,"$1 $2"),e=e.replace(K,"$1 $2"),e=e.replace(w,"$1's"),e=e.replace(x,"$1 $2$3$4 $5"),e=e.replace(O,"$1 $2"),e=e.replace(J,"$1 $3"),e=e.replace(N,"$1 $2 $3"),e=e.replace(F,"$1 $2 $3"),e=e.replace(I,"$1$2$3"),e=e.replace(L,"$1 $2"),e=e.replace(H,"$1 $2"),e=e.replace(d,"$1$2$3"),e=e.replace(h,"$1 $2$3$4"),e=e.replace(Z,"$1$2$3 $4"),e=e.replace(z,"$1 $2"),e=e.replace(B,"$1 $2"),e=e.replace(U,"$1 $2"),e=e.replace(y,"$1 $2"),e=e.replace(G,"$1 $2"),e=e.replace(P,"・"),e}spacingText(c,$=()=>{}){let e;try{e=this.spacing(c)}catch(s){$(s);return}$(null,e)}spacingTextSync(c){return this.spacing(c)}}class g extends D{spacingFile(c,$=()=>{}){return new Promise((e,s)=>{r.readFile(c,"utf8",(t,a)=>{if(t)return s(t),$(t);const u=this.spacing(a);return e(u),$(null,u)})})}spacingFileSync(c){return this.spacing(r.readFileSync(c,"utf8"))}}const p=new g;module.exports=p;module.exports.default=p;module.exports.Pangu=g;
